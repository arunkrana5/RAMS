@using COMMON
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thrivera - RMS</title>
    <link rel='shortcut icon' href='~/favicon.ico' type='image/vnd.microsoft.icon' />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link href="~/layout/bootstrap.min.css" rel="stylesheet" />
    <link href="~/layout/bootstrap-toggle.min.css" rel="stylesheet" />
    <link href="~/layout/all.min.css" rel="stylesheet" />
    <link href="~/layout/line-awesome.min.css" rel="stylesheet" />
    <link href="~/layout/select2.min.css" rel="stylesheet" />
    <link href="~/layout/app.css" rel="stylesheet" />
    <link href="~/layout/jquery-confirm.css" rel="stylesheet" />
    <link href="~/layout/toastr.min.css" rel="stylesheet" />
    <link href="~/layout/sweetalert2.min.css" rel="stylesheet" />
    <style>
        .tr_delete {
            text-decoration: line-through;
        }

        div.loader {
            text-align: center !important;
            vertical-align: central !important;
            display: table;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        [class*="loader"] {
            position: relative;
            z-index: 1;
        }

        table.dataTable tbody tr:hover {
            background-color: #71d1eb !important;
        }
    </style>
    @await Html.PartialAsync("_ValidationScriptsPartial")
</head>
<body>
    <div class="page-wrapper default-version">
        <div class="sidebar bg--dark">
            <button class="res-sidebar-close-btn" style="display:block !important;"><i class="las la-times"></i></button>
            <div class="sidebar__inner">
                <div class="sidebar__logo" style="background-color:#f3f3f9;height: 63px; margin: 0px;padding: 0px;">
                    <a href="@Url.Action("Index","Dashboard",new {area="SecureZone"})" class="sidebar__main-logo">
                        <img src="~/assets/thrivera.jpeg" style="height: 63px;" />
                    </a>
                </div>

                <div class="sidebar__menu-wrapper" id="sidebar__menuWrapper">
                    <ul class="sidebar__menu">
                        <li class="sidebar-menu-item">
                            <a href="@Url.Action("Index","Dashboard",new {area="SecureZone"})" class="nav-link ">
                                <i class="menu-icon las la-home"></i>
                                <span class="menu-title">Dashboard</span>
                            </a>
                        </li>

                        <li class="sidebar-menu-item sidebar-dropdown">
                            <a href="javascript:void(0)" class="">
                                <i class="menu-icon las la-users"></i>
                                <span class="menu-title">Masters</span>
                            </a>
                            <div class="sidebar-submenu">
                                <ul>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Users","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Employee</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Dealers","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Dealers</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Country","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Country</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Region","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Region</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("State","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">State</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("City","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">City</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Area","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Area</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Department","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Department</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Designation","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Designation</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("DocumentType","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Document Type</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("BrandingType","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Branding Type</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Role","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Role</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("DealerType","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Dealer Type</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("DealerCategory","Master",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Dealer Category</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>

                        <li class="sidebar-menu-item sidebar-dropdown">
                            <a href="javascript:void(0)" class="">
                                <i class="menu-icon las la-users"></i>
                                <span class="menu-title">Attendance</span>
                            </a>
                            <div class="sidebar-submenu">
                                <ul>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("Attendance","Transaction",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Add</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>

                        <li class="sidebar-menu-item sidebar-dropdown">
                            <a href="javascript:void(0)" class="">
                                <i class="menu-icon las la-users"></i>
                                <span class="menu-title">Transactions</span>
                            </a>
                            <div class="sidebar-submenu">
                                <ul>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("VendorList","Transaction",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Vendors</span>
                                        </a>
                                    </li>
                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("NewVendor","Transaction",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Add Vendors</span>
                                        </a>
                                    </li>


                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("EnrollmentStatus","Transaction",new {area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">Enrollment Status</span>
                                        </a>
                                    </li>

                                    <li class="sidebar-menu-item">
                                        <a href="@Url.Action("PJPPlanList", "Transaction",new {Area="SecureZone"})" class="nav-link">
                                            <i class="menu-icon las la-dot-circle"></i>
                                            <span class="menu-title">PJP</span>
                                        </a>
                                    </li>

                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- sidebar end -->
        <!-- navbar-wrapper start -->
        <nav class="navbar-wrapper bg--dark">
            <div class="navbar__left">
                <button type="button" class="res-sidebar-open-btn me-3" style="display:block !important;"><i class="las la-bars"></i></button>
                <form class="navbar-search">
                    <input type="search" name="#0" class="navbar-search-field" id="searchInput" autocomplete="off"
                           placeholder="Search here...">
                    <i class="las la-search"></i>
                    <ul class="search-list"></ul>
                </form>
            </div>
            <div class="navbar__right">
                <ul class="navbar__action-list">
                    <li class="dropdown">
                        <button type="button" class="primary--layer" data-bs-toggle="dropdown" data-display="static"
                                aria-haspopup="true" aria-expanded="false">
                            <i class="las la-bell text--primary  icon-left-right "></i>
                        </button>
                    </li>
                    <li class="dropdown">
                        <button type="button" class="" data-bs-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false">
                            <span class="navbar-user">
                                <span class="navbar-user__thumb">
                                    @*<img src="~/assets/media/avatars/300-10.jpg" />*@
                                    <i class="lar la-user-circle"></i>
                                </span>
                                <span class="navbar-user__info">
                                    <span class="navbar-user__name">@ClsApplicationSetting.GetSessionValue("EMPName")</span>
                                </span>
                                <span class="icon"><i class="las la-chevron-circle-down"></i></span>
                            </span>
                        </button>
                        <div class="dropdown-menu dropdown-menu--sm p-0 border-0 box--shadow1 dropdown-menu-right">
                            <a href="@Url.Action("MyProfile","Account",new{area="Authentication"})"
                               class="dropdown-menu__item d-flex align-items-center px-3 py-2">
                                <i class="dropdown-menu__icon las la-user-circle"></i>
                                <span class="dropdown-menu__caption">Profile</span>
                            </a>
                            <a href="#"
                               class="dropdown-menu__item d-flex align-items-center px-3 py-2">
                                <i class="dropdown-menu__icon lar la-calendar-alt"></i>
                                <span class="dropdown-menu__caption">Last login: @DateTime.Now.ToString("dd/MM/yyyy hh:mm tt")</span>
                            </a>
                            <a href="@Url.Action("Logout","Account",new { area="Authentication" })"
                               class="dropdown-menu__item d-flex align-items-center px-3 py-2">
                                <i class="dropdown-menu__icon las la-sign-out-alt"></i>
                                <span class="dropdown-menu__caption">Logout</span>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="body-wrapper">
            <div class="bodywrapper__inner">

                @RenderBody()


            </div>
        </div>
    </div>
    <div class="loader">
        <img src="~/assets/media/spinner-5.gif" style="position: relative;max-width: 100%;height: auto;width: 4%;top: 50%;" />
    </div>
    <div class="modal fade" id="MarkAttendenceModal" tabindex="-1" role="dialog" aria-labelledby="ModalViewLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div id="MTargetDiv"></div>
        </div>
    </div>
    <div class="modal fade" id="WarningModal" tabindex="-1" role="dialog" aria-labelledby="ModalViewLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div id="WarningText"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="CaptureImageModal" tabindex="-1" role="dialog" aria-labelledby="ModalViewLabel" aria-hidden="true" style="width: 101%;">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="col-md-6">
                        <h5 class="modal-title" id="ModalViewLabel">Capture Image</h5>
                    </div>
                    <div class="col-md-6 d-flex justify-content-end">
                        <button type="button" class="btn btn-danger btn-sm" data-bs-dismiss="modal" aria-label="Close" style="margin-left:5px;">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div id="CameraScreen"></div>
                        </div>
                        <div class="col-lg-12 text-center">
                            <a class="btn btn--info" onClick="TakePhoto()">
                                Capture Photo
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="~/layout/bootstrap.bundle.min.js"></script>
    <script src="~/layout/bootstrap-toggle.min.js"></script>
    <script src="~/layout/jquery.slimscroll.min.js"></script>
    <link href="~/layout/izitoast.min.css" rel="stylesheet" />
    <script src="~/layout/izitoast.min.js"></script>
    <script src="~/layout/jquery-confirm.js"></script>
    <script src="~/layout/toastr.min.js"></script>
    <script src="~/layout/sweetalert2.min.js"></script>
    <script src="~/assets/js/custom/common.js"></script>
    <script src="~/js/tostvalidation.js"></script>
    <script>
        "use strict";
        function notify(status, message) {
            iziToast[status]({
                message: message,
                position: "topRight"
            });
        }
    </script>
    <script src="~/layout/nicedit.js"></script>
    <script src="~/layout/select2.min.js"></script>
    <script src="~/layout/app.js"></script>
    <script>
        "use strict";
        bkLib.onDomLoaded(function () {
            $(".nicEdit").each(function (index) {
                $(this).attr("id", "nicEditor" + index);
                new nicEditor({ fullPanel: true }).panelInstance('nicEditor' + index, { hasPanel: true });
            });
        });
        (function ($) {
            $(document).on('mouseover ', '.nicEdit-main,.nicEdit-panelContain', function () {
                $('.nicEdit-main').focus();
            });
        })(jQuery);
        if ($('li').hasClass('active')) {
            $('#sidebar__menuWrapper').animate({
                scrollTop: eval($(".active").offset().top - 320)
            }, 500);
        }

        var myCameraElements;
        function OpenCamera(obj, facingMode = "") {
            myCameraElements = $(obj);
            if (facingMode == "") {
                facingMode = "user";
            } else {
                facingMode = "environment";
            }
            Webcam.set({
                width: 800,
                height: 1000,
                image_format: 'jpeg',
                jpeg_quality: 90
            });

            Webcam.set('constraints', {
                facingMode: facingMode
            });
            Webcam.attach('#CameraScreen');

            $('#CaptureImageModal').modal({
                show: 'true',
                backdrop: 'static'
            });
            $('#CaptureImageModal').modal('show');
            $('#CaptureImageModal').on('hidden.bs.modal', function () {

                $('#CaptureImageModal').remove();
            });
        }
        function TakePhoto() {
            var target = $(myCameraElements).closest("div");
            //            var Count = $("#hdnCameraCount").val();
            Webcam.snap(function (data_uri) {
                $(target).find('img').attr("src", data_uri);
                $(target).find('img').attr("id", "img_att");
                $(target).find("input:hidden").val(data_uri);
                Webcam.reset('#CameraScreen');
                $('#CaptureImageModal').modal('hide');
                $('#btnSubmit').on('click', function () {
                    SubmitAttndence();
                });
            });
        }
    </script>
</body>
</html>
